// Module included in the following assemblies:
//
// assembly-kafka-bridge-quickstart.adoc

[id='proc-bridge-subscribing-consumer-topics-{context}']
= Subscribing a consumer to topics

After you have created a Kafka Bridge consumer, you can subscribe it to one or more topics. Once subscribed, the consumer starts receiving all messages produced to the topic.

.Prerequisites

* The Kafka Bridge is deployed to your Kubernetes cluster.
* The Kafka Bridge service is exposed to your local machine on port 8080.
* The address of the Kafka Bridge; use this as the `<bridge-address>` parameter.
* The base URL of a Kafka Bridge consumer. 

.Procedure

* Using the link:https://strimzi.io/docs/bridge/latest/#_subscribe[subscription^] endpoint, subscribe the consumer to the topic that you created earlier, in xref:proc-producing-messages-from-bridge-topics-partitions-{context}[Producing messages to topics and partitions].
+
[source,curl,subs=attributes+]
----
curl -X POST <bridge-address>/consumers/bridge-quickstart-consumer-group/instances/bridge-quickstart-consumer/subscription \
  -H 'content-type: application/vnd.kafka.v2+json' \
  -d '{"topics": ["bridge-quickstart-topic"]}'
----
+
The `topics` array can contain a single topic (as shown here) or multiple topics. If you want to subscribe the consumer to multiple topics that match a regular expression, you can use the `topic_pattern` string instead of the `topics` array. 
+
If the request was successful, the Kafka Bridge returns a `204` code only.

.What to do next

After subscribing a Kafka Bridge consumer to topics, xref:proc-bridge-retrieving-latest-messages-from-consumer-{context}[retrieve messages from the consumer].

.Additional resources

* link:https://strimzi.io/docs/bridge/latest/#_subscribe[POST /consumers/{groupid}/instances/{name}/subscription] in the API reference documentation.