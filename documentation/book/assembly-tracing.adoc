// This assembly is included in the following assemblies:
//
// master.adoc

[id='assembly-tracing-{context}']
= Distributed tracing

.Overview

{ProductName} provides support for the distributed tracing of messages between various components in a Kafka cluster. Messages are traced:

* From a producer to a Kafka cluster to a consumer.
* From a Kafka cluster to a Kafka Streams application, and back again.
* Between a source and a target Kafka cluster through Kafka Mirror Maker.
* From a Kafka Connect connector (including a Source-to-Image connector) to a Kafka cluster.

You can view and query transactions -- referred to as __traces__ -- in a user interface. This information has many uses, including monitoring the operation of your Kafka cluster and debugging performance issues with target systems and applications.

//screenshot of Jaeger user interface

Because applications must be _instrumented_ for distributed tracing, some setup is required before you can take advantage of this feature. 

.OpenTracing and Jaeger

The distributed tracing capabilities of {ProductName} are based on the emerging {OpenTracingHome} specification and the popular {JaegerHome} tracing system.

* OpenTracing defines APIs that developers can use to instrument their applications -- usually in microservice architectures -- for distributed tracing. It is independent from the tracing system.

* Jaeger, a tracing system, is an implementation of the OpenTracing APIs that developers can use to visualize, query, filter, and analyze trace data.

{ProductName} uses the `java-kafka-client` OpenTracing library to simplify the instrumentation of Kafka producers and consumers. Libraries such as this are sometimes referred to as __tracers__.

This chapter describes how to set up tracing in your Kafka clients, Kafka Mirror Maker, and Kafka Connect connectors. 

.Prerequisites

It is helpful to understand:

* The basics of OpenTracing, including key concepts such as traces, spans, and tracers. Refer to the {OpenTracingDocs}.

* The components of the {JaegerArch}. 

include::assembly-setting-up-tracing-kafka-clients.adoc[leveloffset=+1]

include::assembly-instrumenting-kafka-clients-tracers.adoc[leveloffset=+1]

include::assembly-setting-up-tracing-mirror-maker-connect.adoc[leveloffset=+1]