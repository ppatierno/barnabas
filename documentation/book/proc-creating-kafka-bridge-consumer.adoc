// Module included in the following assemblies:
//
// assembly-kafka-bridge-quickstart.adoc

[id='proc-creating-kafka-bridge-consumer-{context}']
= Creating a Kafka Bridge consumer

Before you can perform consumer operations, such as subscribing to topics and retrieving messages from topics, you must create a consumer by using the link:https://strimzi.io/docs/bridge/latest/#_createconsumer[consumers^] endpoint. This is referred to as a __Kafka Bridge consumer__.

.Procedure

. Create a Kafka Bridge consumer in a new consumer group named `bridge-quickstart-consumer-group`: 
+
[source,curl,subs=attributes+]
----
curl -X POST http://localhost:8080/consumers/bridge-quickstart-consumer-group \
  -H 'content-type: application/vnd.kafka.v2+json' \
  -d '{
    "name": "bridge-quickstart-consumer",
    "auto.offset.reset": "earliest",
    "enable.auto.commit": "false",
    "fetch.min.bytes": "512",
    "consumer.request.timeout.ms": "30000"
  }'
----
+
* In the request body, the consumer is named `bridge-quickstart-consumer` and some basic configuration settings are defined.
* The consumer will not commit offsets to the log automatically because the `enable.auto.commit` setting is `false`. A later procedure in this quick start describes how to commit the offsets for this consumer manually.
+
If the request is successful, the Kafka Bridge returns the consumer ID (`instance_id`) and base URL (`base_uri`) in the response body, along with a `200` code:
+
[source,json,subs=attributes+]
----
{
  "instance_id": "bridge-quickstart-consumer",
  "base_uri":"http://<bridge-name>-bridge-service:8080/consumers/bridge-quickstart-consumer-group/instances/bridge-quickstart-consumer"
}
----

. Copy the consumer base URL (`base_uri`) contained in the response for use in other operations on this consumer.

.What to do next

Now that you have created a Kafka Bridge consumer, you can  xref:proc-bridge-subscribing-consumer-topics-{context}[subscribe it to topics].

.Additional resources

* link:https://strimzi.io/docs/bridge/latest/#_createconsumer[POST /consumers/{groupid}^] in the API reference documentation.
