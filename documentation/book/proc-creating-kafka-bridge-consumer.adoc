// Module included in the following assemblies:
//
// assembly-kafka-bridge-quickstart.adoc

[id='proc-creating-kafka-bridge-consumer-{context}']
= Creating a Kafka Bridge consumer

Next, create a Kafka Bridge consumer to enable HTTP clients to perform consumer operations, such as subscribing to topics and retrieving messages.

.Prerequisites

* The Kafka Bridge is deployed to your Kubernetes cluster.
* The Kafka Bridge service is exposed to your local machine on port 8080.
* The address of the Kafka Bridge; use this as the `<bridge-address>` parameter.

.Procedure

. Using the link:https://strimzi.io/docs/bridge/latest/#_createconsumer[/consumers/{groupid}^] endpoint, create a Kafka Bridge consumer in a new consumer group. In the request body, assign a name (referred to as a consumer ID) to the consumer and define some basic configuration settings.
+
[source,curl,subs=attributes+]
----
curl -X POST <bridge-address>/consumers/bridge-quickstart-consumer-group \
  -H 'content-type: application/vnd.kafka.v2+json' \
  -d '{
    "name": "bridge-quickstart-consumer",
    "auto.offset.reset": "earliest",
    "enable.auto.commit": "false",
    "fetch.min.bytes": "512",
    "consumer.request.timeout.ms": "30000"
  }'
----
+
NOTE: The `enable.auto.commit` setting is `false`, so consumer offsets are not committed to the log automatically. You will commit the offsets for this consumer in a later procedure.
+
If the request was successful, the Kafka Bridge returns the consumer ID and base URL in a JSON response body, along with a `200` code.
+
[source,json,subs=attributes+]
----
{
  "instance_id": "bridge-quickstart-consumer",
  "base_uri":"http://<bridge-name>-bridge-service:8080/consumers/bridge-quickstart-consumer-group/instances/bridge-quickstart-consumer"
}
----

. Copy the consumer base URL (`base_uri`) contained in the response for later use.

.Additional resources

* link:https://strimzi.io/docs/bridge/latest/#_createconsumer[POST /consumers/{groupid}^] in the API reference documentation.