// This assembly is included in the following assemblies:
//
// assembly-using-the-kafka-bridge.adoc

// Save the context of the assembly that is including this one.
// This is necessary for including assemblies in assemblies.
// See also the complementary step on the last line of this file.
:parent-context-using-the-kafka-bridge: {context}
:context: {parent-context-using-the-kafka-bridge}-bridge-quickstart

[id='assembly-kafka-bridge-quickstart-{context}']
= Kafka Bridge quick start

Use this quick start to try out the {ProductName} Kafka Bridge in your local development environment. You will learn how to:

* Deploy the Kafka Bridge to your Kubernetes cluster
* Expose the Kafka Bridge Service to your local machine
* Produce messages to topics and partitions in your Kafka cluster
* Create a Kafka Bridge consumer
* Perform basic consumer operations, such as subscribing the consumer to topics and retrieving the messages that you produced

HTTP requests are formatted as curl commands that you can copy and paste to your terminal. Access to a Kubernetes cluster is required; to run and manage a Kubernetes cluster locally, use a tool such as Minikube, CodeReady Containers, or MiniShift.

.About data formats

In this quick start, you will produce and consume messages in JSON format, not binary.

* When producing messages to topics and partitions, the following `Content-Type` header is submitted with the POST request:
+
[source,http,subs=attributes+]
----
Content-Type: application/vnd.kafka.json.v2+json
----

* When creating a Kafka Bridge consumer, an _embedded data format_ of JSON is specified in the request body.

* When creating a Kafka Bridge consumer and performing consumer operations, the following `Content-Type` header is submitted with the relevant POST requests:
+
[source,http,subs=attributes+]
----
Content-Type: application/vnd.kafka.v2+json
----

For more information, see xref:con-requests-kafka-bridge-str[Requests to the {ProductName} Kafka Bridge].

.Prerequisites for the quick start

* Cluster administrator access to a local or remote Kubernetes cluster. 
* {ProductName} is installed.
* A running Kafka cluster, deployed by the Cluster Operator, in a Kubernetes namespace.
* The Entity Operator is deployed and running as part of the Kafka cluster.  

include::proc-deploying-kafka-bridge-quickstart.adoc[leveloffset=+1]

include::proc-exposing-kafka-bridge-service-local-machine.adoc[leveloffset=+1]

include::proc-producing-messages-from-bridge-topics-partitions.adoc[leveloffset=+1]

include::proc-creating-kafka-bridge-consumer.adoc[leveloffset=+1]

include::proc-bridge-subscribing-consumer-topics.adoc[leveloffset=+1]

include::proc-bridge-retrieving-latest-messages-from-consumer.adoc[leveloffset=+1]

include::proc-bridge-committing-consumer-offsets-to-log.adoc[leveloffset=+1]

include::proc-bridge-seeking-offsets-for-partition.adoc[leveloffset=+1]

include::proc-bridge-deleting-consumer.adoc[leveloffset=+1]

:context: {parent-context-using-the-kafka-bridge}
