// This assembly is included in the following assemblies:
//
// master.adoc

// Save the context of the assembly that is including this one.
// This is necessary for including assemblies in assemblies.
// See also the complementary step on the last line of this file.
:parent-context: {context}

[id='topic-operator-{context}']
= Topic Operator

:context: str
include::con-what-the-topic-operator-does.adoc[leveloffset=+1]

:context: str
include::con-how-the-topic-operator-works.adoc[leveloffset=+1]

:context: str
include::ref-topic-operator-usage-recommendation.adoc[leveloffset=+1]

[id='format-of-the-kafkatopic-{context}']
== Format of the `KafkaTopic`

For detailed reference of the API for `KafkaTopic` see xref:type-KafkaTopic-str[].

:context: str
include::proc-creating-a-topic.adoc[leveloffset=+1]

:context: str
include::proc-changing-a-topic.adoc[leveloffset=+1]

:context: str
include::proc-deleting-a-topic.adoc[leveloffset=+1]

:context: str
include::ref-topic-operator-environment.adoc[leveloffset=+1]

== Resource limits and requests

The Topic Operator can run with resource limits:

* When it is deployed by the Cluster Operator these can be specified in the `Kafka.spec.topicOperator.resources` property.
* When it is not deployed by the Cluster Operator these can be specified on the `Deployment` in the usual way.

=== Minimum Resource Requirements

Testing has shown that the topic operator functions adequately with 96Mi of memory and 100m CPU when watching two topics.
It is therefore recommended to use these as a minimum when configuring resource requests and not to run it with lower limits than these.
If the Kafka cluster has more than a handful of topics more generous requests and limits will be necessary.


// Restore the context to what it was before this assembly.
:context: {parent-context}
