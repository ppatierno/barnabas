// Module included in the following assemblies:
//
// <List assemblies here, each on a new line>

// Base the file name and the ID on the module title. For example:
// * file name: assembly-cluster-operator.adoc
// * ID: [id='cluster-operator-{context}']
// * Title: = Configure Cluster Operator

// The ID is used as an anchor for linking to the module. Avoid changing it after the module has been published to ensure existing links are not broken.


include::common/attributes.adoc[]

[id='overview-cluster-operator-{context}']
= Overview of Cluster Operator

You can deploy a Kafka cluster along with a Zookeeper ensemble using Cluster Operator. As part of the Kafka cluster, it can also deploy the Topic Operator which provides operator-style topic management via Custom Resources. Using Cluster Operator, you can deploy a Kafka Connect cluster which connects to an existing Kafka cluster. On {OpenShiftName}, you can create a cluster and connect to an existing Kafka cluster using the Source2Image feature, which provides an easy way of including more connectors.

.Example Architecture diagram of the Cluster Operator.
image::cluster_operator.png[Cluster Operator]

When the Cluster Operator is up, it monitors for certain {ProductPlatformName} resources containing the desired Kafka or Kafka Connect cluster configuration. A `Kafka` resource is used for the Kafka cluster configuration, a `KafkaConnect` resource is used for Kafka Connect cluster configuration, and a `KafkaConnectS2I` resource for the `Soruce2Image` enabled Kafka Connect configuration. 

When a new required resource like `Kafka` or `KafkaConnect` resource is created in the {ProductPlatformName} cluster, the operator gets the cluster configuration of the required resource and starts creating a new Kafka or Kafka Connect cluster by creating the necessary other {ProductPlatformName} resources, such as StatefulSets, Services, ConfigMaps, and so on.

Every time the required resource is updated by the user, the operator performs corresponding updates on the {ProductPlatformName} resources which make up the Kafka or Kafka Connect cluster. Resources are either patched or modified in order to make the Kafka or Kafka Connect cluster reflect the state of the desired cluster resource. This might cause a rolling update and may lead to service disruption.

When the desired resource is deleted, the operator undeploys the cluster by deleting all the related {ProductPlatformName} resources.
