apiVersion: keycloak.org/v1alpha1
kind: KeycloakRealm
metadata:
  name: example-keycloakrealm
  labels:
    app: sso
spec:
  realm:
    id: "kafka-authz"
    realm: "kafka-authz"
    enabled: True
    displayName: "Kafka-authz realm with users"
    users:
      - username: "alice"
        firstName: "Alice"
        lastName: "Doe"
        email: "alice@strimzi.io"
        enabled: True
        emailVerified: False
        credentials:
          - type: password
            value: "KqABIiReBuRWbP4pBct3W067pNvYzeN7ILBV+8vT8nuF5cgYs2fdl2QikJT/7bGTW/PBXg6CYLwJQFYrBK9MWg=="
        realmRoles:
          - "offline_access"
          - "uma_authorization"
        clientRoles:
          account:
            - "view-profile"
            - "manage-account"
        groups:
          - "/ClusterManager Group"
      - username: "bob"
        firstName: "Bob"
        lastName: "Doe"
        email: "bob@strimzi.io"
        enabled: True
        emailVerified: False
        credentials:
          - type: password
            value: "QhK0uLsKuBDrMm9Z9XHvq4EungecFRnktPgutfjKtgVv2OTPd8D390RXFvJ8KGvqIF8pdoNxHYQyvDNNwMORpg=="
        realmRoles:
          - "offline_access"
          - "uma_authorization"
        clientRoles:
          account:
            - "view-profile"
            - "manage-account"
        groups:
          - "/ClusterManager-cluster2 Group"
      - username: "service-account-team-a-client"
        firstName: "pepa"
        lastName: "zdepa"
        email: "pepa-sa@strimzi.io"
        serviceAccountClientId: "team-a-client"
        clientRoles:
          account:
            - "view-profile"
            - "manage-account"
      - username: "service-account-team-b-client"
        firstName: "arnost"
        lastName: "kafka"
        email: "arnost-sa@strimzi.io"
        serviceAccountClientId: "team-b-client"
        clientRoles:
          account:
            - "view-profile"
            - "manage-account"


    clients:
      - clientId: "team-a-client"
        enabled: true
        clientAuthenticatorType: "client-secret"
        secret: "team-a-client-secret"
        publicClient: false
        bearerOnly: false
        standardFlowEnabled: false
        implicitFlowEnabled: false
        directAccessGrantsEnabled: true
        serviceAccountsEnabled: true
        consentRequired: false
        fullScopeAllowed: false
      - clientId: "team-b-client"
        enabled: true
        clientAuthenticatorType: "client-secret"
        secret: "team-b-client-secret"
        publicClient: false
        bearerOnly: false
        standardFlowEnabled: false
        implicitFlowEnabled: false
        directAccessGrantsEnabled: true
        serviceAccountsEnabled: true
        consentRequired: false
        fullScopeAllowed: false

  instanceSelector:
    matchLabels:
      app: sso
